# SIMPLIFIA - Clawdbot Docker Compose
# Generated by: simplifia clawdbot install --docker
# NOTE: Requires Docker Compose v2+ (no version field needed)

services:
  clawdbot:
    image: ${CLAWDBOT_IMAGE:-ghcr.io/pala7777/simplifia-clawdbot:latest}
    container_name: simplifia-clawdbot
    restart: unless-stopped
    ports:
      - "${CLAWDBOT_PORT:-18789}:18789"
    volumes:
      - ~/.simplifia:/root/.simplifia:rw
      - clawdbot-data:/data
    environment:
      - CLAWDBOT_TOKEN=${CLAWDBOT_TOKEN:-}
      - CLAWDBOT_MODEL=${CLAWDBOT_MODEL:-anthropic/claude-sonnet-4-20250514}
      - TZ=${TZ:-America/Sao_Paulo}
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:18789/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

volumes:
  clawdbot-data:
    name: simplifia-clawdbot-data
